"use strict";var a=1000,b=500,c=(w,h,l,t)=>`
.zones::before {
    content: ".";
    display: block;
    background-color: #f005;
    width: ${(w??0)*0.3}px;
    left: ${l??0}px;
    top: ${t??0};
    height: ${h??0}px;
    position: absolute;
}
.zones::after {
    content: ".";
    display: block;
    background-color: #0f05;
    width: ${(w??0)*0.3}px;
    left: ${(l??0)+(w??0)*0.7}px;
    top: ${t??0};
    height: ${h??0}px;
    position: absolute;
}
`,d=({w,h,l,t})=>window.styleElement!==null&&(window.styleElement.innerHTML=c(w,h,l,t)),A=()=>{document.body.setAttribute('class','');document.body.style.cssText=`
        background-image:none !important;
        background-color: #181a1b !important;
        display: flex;
        height: 100vh;
        max-height: 100vh;
        overflow: hidden;
        margin: 0;
        padding: 0;
        flex-direction: column;
        `},f=()=>{A();document.body.innerHTML='';window.styleElement=document.createElement('style');window.styleElement.innerHTML=c();document.body.append(window.styleElement)},g=B=>{const C=document.createElement('div'),_c=document.createElement('select'),D=document.createElement('button'),E=document.createElement('button'),F=document.createElement('label'),G=document.createElement('span'),H=document.createElement('input');for(const _a of B)_c.append(_a);_c.selectedIndex=[..._c.children].findIndex(o=>o.getAttribute('selected')!==null);_c.addEventListener('change',_A=>_A.target instanceof HTMLSelectElement&&(window.location.href=_A.target.value));document.body.append(C);C.style.position='fixed';C.style.top='20%';C.style.left='10px';D.id='moveleft';D.innerText='Prev';D.onclick=()=>{_c.selectedIndex--;_c.dispatchEvent(new Event('change'))};E.id='moveright';E.innerText='Next';E.onclick=()=>{_c.selectedIndex++;_c.dispatchEvent(new Event('change'))};window.selectBtns.next=E;window.selectBtns.prev=D;_c.selectedIndex>0&&C.append(D);C.append(_c);_c.selectedIndex<_c.children.length-1&&C.append(E);C.append(document.createElement('br'));C.append('Press D to show full page after refresh!');F.style.cssText=`
        cursor: pointer;
        color: white;
    `;G.innerText='Left To Right';H.type='checkbox';H.checked=!0;H.style.display='none';F.append(G,H);H.onchange=()=>H.checked?(G.innerText='Left To Right',window.curReader!==null&&(window.curReader.rtl=!1)):(G.innerText='Right To Left',window.curReader!==null&&(window.curReader.rtl=!0));C.append(document.createElement('br'),F);return[C]},_=(aA,_b)=>{const _C=document.createElement('div');window.addEventListener('click',()=>{_C.style.display=_C.style.display=='none'?'initial':'none';window.curReader?.applyCSS()});_C.style.width='fit-content';_C.style.margin='10px auto 0 auto';_C.innerHTML=`${aA}<br/>${_b}`;_C.style.textAlign='center';_C.style.fontSize='2em';document.body.append(_C)};window.selectBtns={prev:null,next:null};window.styleElement=null;window.curReader=null;class Reader{dir(){return this.rtl?1:-1}constructor(aB){this.rtl=!1;this.handleDivClick=e=>{if(e.target instanceof HTMLImageElement){e.preventDefault();e.stopPropagation();var _B=e.clientX-e.target.offsetLeft,aC=_B/e.target.clientWidth;aC<0.3&&this.prevPage();aC>0.7&&this.nextPage()}};this.parentDiv=document.createElement('div');this.parentDiv.addEventListener('click',this.handleDivClick);this.images=aB;this.page=0;this.createReader();setTimeout(()=>window.curReader?.applyCSS(),50)}applyCSS(){var aD=this.images[this.page];d({w:aD.clientWidth,h:aD.clientHeight,l:aD.offsetLeft,t:aD.offsetTop})}createReader(){var aE=this.images[this.page];if(!aE)return this.clampPage();aE.style.cssText='border: none !important;';this.parentDiv.style.cssText=`
            display: flex;
            height: 100%;
            justify-content: center;
            overflow-y:hidden;
            position: relative;
        `;this.parentDiv.innerHTML='';this.parentDiv.append(aE);this.applyCSS()}nextPage(){console.log(this);this.page+=1*this.dir();this.createReader();this.clampPage()}prevPage(){console.log(this);this.page-=1*this.dir();this.createReader();this.clampPage()}clampPage(){this.page<0&&(this.page=0,console.log('Page is too low!'),window.selectBtns.prev?.click(),this.createReader());this.page>=this.images.length&&(this.page=this.images.length-1,window.selectBtns.next?.click(),this.createReader())}appendTo(aF){aF.append(this.parentDiv)}}window.onload=()=>{if(window.location.hostname.includes('klz9.com')){var aG=localStorage.getItem('devMode')=='true',aH=document.querySelector('.manga-name')?.innerText??'No-title',aI=document.querySelector('#zlist-chs > select > option[selected]')?.innerText??'No-chapternum',_d=document.querySelectorAll('.chapter-content p > img'),_e=document.querySelector('.chapter-select select.form-control'),_f=[...(_e?.children??[])].toReversed();if(aG){localStorage.removeItem('devMode');return}window.addEventListener('keydown',({code:aJ,shiftKey:aK})=>{aK&&aJ=='ArrowRight'&&window.selectBtns.next?.click();aK&&aJ=='ArrowLeft'&&window.selectBtns.prev?.click();aJ=='ArrowRight'&&window.curReader?.nextPage();aJ=='ArrowLeft'&&window.curReader?.prevPage();if(aJ=='KeyD'&&localStorage.getItem('devMode')!=='true'){localStorage.setItem('devMode','true');var aL=document.createElement('dialog');aL.innerHTML='Dev mode!<br>Next refresh won\'t remove everything!';aL.style.position='fixed';aL.style.top='15px';aL.style.fontSize='1.5em';aL.style.margin='0 auto';document.body.append(aL);aL.show();setTimeout(()=>aL.close(),a)}if(aJ=='KeyZ'&&window.curReader!==null){var _D=window.curReader.parentDiv;_D.classList.add('zones');setTimeout(()=>_D.classList.remove('zones'),500)}});A();setInterval(()=>A(),b);_d.length>0&&(f(),g(_f),_(aH,aI),window.curReader=new Reader(_d),window.curReader.appendTo(document.body))}};
